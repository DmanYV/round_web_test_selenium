{"uid":"b8804b8244c7c6d2","name":"Регистрация пользователя по номеру телефона","fullName":"tests.test_registration.TestRegistrationUser#test_registering_a_new_user_by_phone_number","historyId":"466fc968f032aaed759fe07653732bba","time":{"start":1720551302537,"stop":1720551319022,"duration":16485},"description":"При проверке так же проверяем, что никнейм может иметь в себе: цифры, точку (только в середине), дефис, нижнее подчеркивание","descriptionHtml":"<p>При проверке так же проверяем, что никнейм может иметь в себе: цифры, точку (только в середине), дефис, нижнее подчеркивание</p>\n","status":"failed","statusMessage":"AssertionError: Ожидался текст: 'Привет, -heatherchambers.1_\nДобро пожаловать в Round!', отображается текс: 'Привет, -heatherchambers\nДобро пожаловать в Round!'","statusTrace":"self = <test_registration.TestRegistrationUser object at 0x7fa6b69473b0>\nelements = {'Страница авторизации': {'Кнопка вконтакте': ('xpath', '//button[@name=\"signUpWithVK\"]'), 'Кнопка войти': ('xpath', '...ct-2-option-88'), '1927 год': ('id', 'react-select-2-option-87'), '1928 год': ('id', 'react-select-2-option-86'), ...}}\n\n    @allure.title('Регистрация пользователя по номеру телефона')\n    @allure.description('При проверке так же проверяем, что никнейм может иметь в себе: '\n                        'цифры, точку (только в середине), дефис, нижнее подчеркивание')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_registering_a_new_user_by_phone_number(self, elements):\n        with allure.step('Открыть страницу авторизации'):\n            self.authorization_page.open()\n            element = elements['Страница авторизации']\n    \n        with allure.step('Нажать кнопку \"По смс (Для России)\"'):\n            self.authorization_page.do_click(element['Кнопка по смс'])\n    \n        with allure.step('Нажать кнопку Далее'):\n            element = elements['Страница регистрации']\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле никнейм ввести любое валидное значение'):\n            username = f'-{fake.user_name()}.{fake.pyint(min_value=1, max_value=2)}_'\n            self.join_page.field_send_keys(element['Поле никнейм'], text=f'{username}')\n    \n        with allure.step('Нажать кнопку Далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле Пароль ввести пароль'):\n            self.join_page.field_send_keys(element['Поле пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('В поле Повтори пароль ввести пароль еще раз'):\n            self.join_page.field_send_keys(element['Поле повтори пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Ввести номер телефона в поле номер телефона'):\n            phone_number = fakeru.random_number(digits=10, fix_len=True)\n            self.join_page.field_send_keys(element['Поле номер телефона'], text=phone_number)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Авторизоваться в MetaBase'):\n            metabase = self.metabase.authorization(username=self.MetaBaseUser.LOGIN,\n                                                   password=self.MetaBaseUser.PASSWORD)\n    \n        with allure.step('Найти последний код в MetaBase'):\n            sms_code = self.metabase.take_last_code(metabase)\n    \n        with allure.step('Ввести смс код'):\n            self.login_page.field_send_keys(element['Поле проверочный код'], text=sms_code)\n    \n        with allure.step('Проверить, что пользователю отображается окно приветствия'):\n>           self.assertion.text_in_element(element['Текст приветствия пользователя'],\n                                           expected_text=f'Привет, {username}\\nДобро пожаловать в Round!')\n\ntests/test_registration.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <base.base_assertion.Assertion object at 0x7fa6b7172720>\nelement_locator = ('xpath', '//div[contains(@class,\"registration-success_header_\")]')\nexpected_text = 'Привет, -heatherchambers.1_\\nДобро пожаловать в Round!'\n\n    def text_in_element(self, element_locator: tuple, expected_text: str or int):\n        \"\"\"\n        Проверка совпадения текста элемента\n    \n        :param element_locator:\n            локатор элемента\n        :param expected_text:\n            ожидаемый текст\n    \n        \"\"\"\n        actual_text = self.find_element(element_locator).text\n>       assert expected_text == actual_text, f\"Ожидался текст: '{expected_text}', отображается текс: '{actual_text}'\"\nE       AssertionError: Ожидался текст: 'Привет, -heatherchambers.1_\nE       Добро пожаловать в Round!', отображается текс: 'Привет, -heatherchambers\nE       Добро пожаловать в Round!'\n\nbase/base_assertion.py:23: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1720551254970,"stop":1720551254992,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1720551302112,"stop":1720551302537,"duration":425},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1720551302537,"stop":1720551302537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"elements","time":{"start":1720551302537,"stop":1720551302537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"При проверке так же проверяем, что никнейм может иметь в себе: цифры, точку (только в середине), дефис, нижнее подчеркивание","status":"failed","statusMessage":"AssertionError: Ожидался текст: 'Привет, -heatherchambers.1_\nДобро пожаловать в Round!', отображается текс: 'Привет, -heatherchambers\nДобро пожаловать в Round!'","statusTrace":"self = <test_registration.TestRegistrationUser object at 0x7fa6b69473b0>\nelements = {'Страница авторизации': {'Кнопка вконтакте': ('xpath', '//button[@name=\"signUpWithVK\"]'), 'Кнопка войти': ('xpath', '...ct-2-option-88'), '1927 год': ('id', 'react-select-2-option-87'), '1928 год': ('id', 'react-select-2-option-86'), ...}}\n\n    @allure.title('Регистрация пользователя по номеру телефона')\n    @allure.description('При проверке так же проверяем, что никнейм может иметь в себе: '\n                        'цифры, точку (только в середине), дефис, нижнее подчеркивание')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_registering_a_new_user_by_phone_number(self, elements):\n        with allure.step('Открыть страницу авторизации'):\n            self.authorization_page.open()\n            element = elements['Страница авторизации']\n    \n        with allure.step('Нажать кнопку \"По смс (Для России)\"'):\n            self.authorization_page.do_click(element['Кнопка по смс'])\n    \n        with allure.step('Нажать кнопку Далее'):\n            element = elements['Страница регистрации']\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле никнейм ввести любое валидное значение'):\n            username = f'-{fake.user_name()}.{fake.pyint(min_value=1, max_value=2)}_'\n            self.join_page.field_send_keys(element['Поле никнейм'], text=f'{username}')\n    \n        with allure.step('Нажать кнопку Далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле Пароль ввести пароль'):\n            self.join_page.field_send_keys(element['Поле пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('В поле Повтори пароль ввести пароль еще раз'):\n            self.join_page.field_send_keys(element['Поле повтори пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Ввести номер телефона в поле номер телефона'):\n            phone_number = fakeru.random_number(digits=10, fix_len=True)\n            self.join_page.field_send_keys(element['Поле номер телефона'], text=phone_number)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Авторизоваться в MetaBase'):\n            metabase = self.metabase.authorization(username=self.MetaBaseUser.LOGIN,\n                                                   password=self.MetaBaseUser.PASSWORD)\n    \n        with allure.step('Найти последний код в MetaBase'):\n            sms_code = self.metabase.take_last_code(metabase)\n    \n        with allure.step('Ввести смс код'):\n            self.login_page.field_send_keys(element['Поле проверочный код'], text=sms_code)\n    \n        with allure.step('Проверить, что пользователю отображается окно приветствия'):\n>           self.assertion.text_in_element(element['Текст приветствия пользователя'],\n                                           expected_text=f'Привет, {username}\\nДобро пожаловать в Round!')\n\ntests/test_registration.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <base.base_assertion.Assertion object at 0x7fa6b7172720>\nelement_locator = ('xpath', '//div[contains(@class,\"registration-success_header_\")]')\nexpected_text = 'Привет, -heatherchambers.1_\\nДобро пожаловать в Round!'\n\n    def text_in_element(self, element_locator: tuple, expected_text: str or int):\n        \"\"\"\n        Проверка совпадения текста элемента\n    \n        :param element_locator:\n            локатор элемента\n        :param expected_text:\n            ожидаемый текст\n    \n        \"\"\"\n        actual_text = self.find_element(element_locator).text\n>       assert expected_text == actual_text, f\"Ожидался текст: '{expected_text}', отображается текс: '{actual_text}'\"\nE       AssertionError: Ожидался текст: 'Привет, -heatherchambers.1_\nE       Добро пожаловать в Round!', отображается текс: 'Привет, -heatherchambers\nE       Добро пожаловать в Round!'\n\nbase/base_assertion.py:23: AssertionError","steps":[{"name":"Открыть страницу авторизации","time":{"start":1720551302537,"stop":1720551305847,"duration":3310},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку \"По смс (Для России)\"","time":{"start":1720551305847,"stop":1720551307401,"duration":1554},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку Далее","time":{"start":1720551307401,"stop":1720551308948,"duration":1547},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле никнейм ввести любое валидное значение","time":{"start":1720551308948,"stop":1720551310526,"duration":1578},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку Далее","time":{"start":1720551310526,"stop":1720551310563,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Пароль ввести пароль","time":{"start":1720551310563,"stop":1720551312115,"duration":1552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Повтори пароль ввести пароль еще раз","time":{"start":1720551312115,"stop":1720551312160,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку далее","time":{"start":1720551312160,"stop":1720551312199,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести номер телефона в поле номер телефона","time":{"start":1720551312199,"stop":1720551313760,"duration":1561},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку далее","time":{"start":1720551313760,"stop":1720551313797,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизоваться в MetaBase","time":{"start":1720551313797,"stop":1720551315047,"duration":1250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Найти последний код в MetaBase","time":{"start":1720551315047,"stop":1720551317443,"duration":2396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести смс код","time":{"start":1720551317443,"stop":1720551317494,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить, что пользователю отображается окно приветствия","time":{"start":1720551317494,"stop":1720551319021,"duration":1527},"status":"failed","statusMessage":"AssertionError: Ожидался текст: 'Привет, -heatherchambers.1_\nДобро пожаловать в Round!', отображается текс: 'Привет, -heatherchambers\nДобро пожаловать в Round!'\n","statusTrace":"  File \"/usr/workspace/tests/test_registration.py\", line 66, in test_registering_a_new_user_by_phone_number\n    self.assertion.text_in_element(element['Текст приветствия пользователя'],\n  File \"/usr/workspace/base/base_assertion.py\", line 23, in text_in_element\n    assert expected_text == actual_text, f\"Ожидался текст: '{expected_text}', отображается текс: '{actual_text}'\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":14,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1720551319031,"stop":1720551319226,"duration":195},"status":"passed","steps":[],"attachments":[{"uid":"c4cc1a37a424ee02","name":"page_source","source":"c4cc1a37a424ee02.html","type":"text/html","size":31263},{"uid":"f768ca5c46d472ac","name":"screenshot","source":"f768ca5c46d472ac.png","type":"image/png","size":29091},{"uid":"978d43547f0bacf","name":"browser_logs","source":"978d43547f0bacf.txt","type":"text/plain","size":2199}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":3,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"severity","value":"Critical"},{"name":"feature","value":"Регистрация пользователя"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_registration"},{"name":"subSuite","value":"TestRegistrationUser"},{"name":"host","value":"b0f0135ea2e1"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_registration"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":4,"skipped":0,"passed":9,"unknown":0,"total":14},"items":[{"uid":"edb062e76566fc94","status":"passed","time":{"start":1720546215538,"stop":1720546229692,"duration":14154}},{"uid":"180e0191afd4139e","status":"passed","time":{"start":1720470578636,"stop":1720470594229,"duration":15593}},{"uid":"114611f2aad12bf4","status":"passed","time":{"start":1720469360532,"stop":1720469376267,"duration":15735}},{"uid":"25ceba6203c24139","status":"passed","time":{"start":1720469133920,"stop":1720469148592,"duration":14672}},{"uid":"cee8df918a068d16","status":"passed","time":{"start":1720468862021,"stop":1720468876750,"duration":14729}},{"uid":"c4bd45dc509b2ef6","status":"passed","time":{"start":1720242406734,"stop":1720242421022,"duration":14288}},{"uid":"a64871cbacc248d0","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: Не найден элемент с локатором ('xpath', '//input[@name=\"password\"]')","time":{"start":1720241739849,"stop":1720241777040,"duration":37191}},{"uid":"3145a6ccf6a1a4f3","status":"passed","time":{"start":1720208082465,"stop":1720208097955,"duration":15490}},{"uid":"a70a6552fd2641b9","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: Не найден элемент с локатором ('xpath', '//div[@class=\"registration-success_header__D5-xJ\"]')","time":{"start":1720207057469,"stop":1720207101087,"duration":43618}},{"uid":"919564db61309d9e","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: Не найден элемент с локатором ('xpath', '//div[@class=\"registration-success_header__D5-xJ\"]')","time":{"start":1720205004012,"stop":1720205048012,"duration":44000}},{"uid":"1342c7ed124427b5","status":"passed","time":{"start":1720117873847,"stop":1720117891458,"duration":17611}},{"uid":"fec3a6bec4f247e6","status":"passed","time":{"start":1720112799857,"stop":1720112815955,"duration":16098}},{"uid":"c98be000f1e02415","status":"broken","statusDetails":"selenium.common.exceptions.WebDriverException: Message: unknown error: Chrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/chromium-browser is no longer running, so ChromeDriver is assuming that Chrome has crashed.)","time":{"start":1720112680001,"stop":1720112680001,"duration":0}}]},"tags":["regression"]},"source":"b8804b8244c7c6d2.json","parameterValues":[]}