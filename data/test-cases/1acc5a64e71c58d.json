{"uid":"1acc5a64e71c58d","name":"Добавление аватара / изменение аватара","fullName":"tests.test_editing_profile.TestEditingProfile#test_add_and_change_avatar","historyId":"458c47b718e1cc9c408b77d3c2cf737c","time":{"start":1726777023642,"stop":1726777033176,"duration":9534},"description":"Проверка происходит на пользователе Aleska","descriptionHtml":"<p>Проверка происходит на пользователе Aleska</p>\n","status":"failed","statusMessage":"AssertionError: assert 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg' != 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg'","statusTrace":"self = <test_editing_profile.TestEditingProfile object at 0x7fa195452900>\nelements = {'Банк ачивок': {'Блок ачивок': ('xpath', '//div[contains(@class,\"user-achievement-by-interests_container\")]'), 'Модал...-sheet_icons\")]'), 'Название ачивки': ('xpath', '//div[contains(@class,\"achievement-item-bottom-sheet_title\")]')}, ...}\nlogin_to_app = None\n\n    @allure.title('Добавление аватара / изменение аватара')\n    @allure.description('Проверка происходит на пользователе Aleska')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_add_and_change_avatar(self, elements, login_to_app):\n        with allure.step('Нажать на кнопку профиль'):\n            self.app.profile_button_click()\n    \n        with allure.step('Запомнить ссылку на аватар пользователя'):\n            element = elements['Профиль пользователя']\n            old_att = self.profile_page.get_element_attribute(element['Аватар'], atr_value='src')\n    \n        with allure.step('Нажать на бургер-меню'):\n            self.profile_page.do_click(element['Кнопка бургер-меню'])\n    \n        with allure.step('Нажать редактировать профиль'):\n            element = elements['Поп ап бургер-меню профиля']\n            self.profile_page.do_click(element['Редактировать профиль'])\n    \n        with allure.step('Добавить изображение в Кнопку добавить аватар'):\n            element = elements['Страница редактировать профиль']\n            self.edit_profile_page.input_file(element['Кнопка добавить аватар'])\n    \n        with allure.step('Нажать кнопку Хорошо'):\n            self.edit_profile_page.do_click(element['Кнопка хорошо'])\n    \n        with allure.step('Перейти в профиль'):\n            self.app.profile_button_click()\n    \n        with allure.step('Запомнить новую ссылку на аватар и сравнить со старой'):\n            element = elements['Профиль пользователя']\n            time.sleep(3)  # Не придумал как победить по другому\n            self.profile_page.refresh()\n            new_att = self.profile_page.get_element_attribute(element['Аватар'], atr_value='src')\n>           assert old_att != new_att\nE           AssertionError: assert 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg' != 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg'\n\ntests/test_editing_profile.py:383: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1726776348984,"stop":1726776349004,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1726777013318,"stop":1726777013739,"duration":421},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Инициализация локаторов","time":{"start":1726777013739,"stop":1726777013740,"duration":1},"status":"passed","steps":[{"name":"Инициализация локаторов","time":{"start":1726777013740,"stop":1726777013740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"request","value":"<SubRequest 'elements' for <Function test_add_and_change_avatar>>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1726777013739,"stop":1726777013739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизация пользователя в системе","time":{"start":1726777013740,"stop":1726777023641,"duration":9901},"status":"passed","steps":[{"name":"Авторизация пользователя в системе","time":{"start":1726777013740,"stop":1726777023641,"duration":9901},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"request","value":"<SubRequest 'login_to_app' for <Function test_add_and_change_avatar>>"},{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"2fdbcc77ee4f130936bf18491a94499e\")>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Проверка происходит на пользователе Aleska","status":"failed","statusMessage":"AssertionError: assert 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg' != 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg'","statusTrace":"self = <test_editing_profile.TestEditingProfile object at 0x7fa195452900>\nelements = {'Банк ачивок': {'Блок ачивок': ('xpath', '//div[contains(@class,\"user-achievement-by-interests_container\")]'), 'Модал...-sheet_icons\")]'), 'Название ачивки': ('xpath', '//div[contains(@class,\"achievement-item-bottom-sheet_title\")]')}, ...}\nlogin_to_app = None\n\n    @allure.title('Добавление аватара / изменение аватара')\n    @allure.description('Проверка происходит на пользователе Aleska')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_add_and_change_avatar(self, elements, login_to_app):\n        with allure.step('Нажать на кнопку профиль'):\n            self.app.profile_button_click()\n    \n        with allure.step('Запомнить ссылку на аватар пользователя'):\n            element = elements['Профиль пользователя']\n            old_att = self.profile_page.get_element_attribute(element['Аватар'], atr_value='src')\n    \n        with allure.step('Нажать на бургер-меню'):\n            self.profile_page.do_click(element['Кнопка бургер-меню'])\n    \n        with allure.step('Нажать редактировать профиль'):\n            element = elements['Поп ап бургер-меню профиля']\n            self.profile_page.do_click(element['Редактировать профиль'])\n    \n        with allure.step('Добавить изображение в Кнопку добавить аватар'):\n            element = elements['Страница редактировать профиль']\n            self.edit_profile_page.input_file(element['Кнопка добавить аватар'])\n    \n        with allure.step('Нажать кнопку Хорошо'):\n            self.edit_profile_page.do_click(element['Кнопка хорошо'])\n    \n        with allure.step('Перейти в профиль'):\n            self.app.profile_button_click()\n    \n        with allure.step('Запомнить новую ссылку на аватар и сравнить со старой'):\n            element = elements['Профиль пользователя']\n            time.sleep(3)  # Не придумал как победить по другому\n            self.profile_page.refresh()\n            new_att = self.profile_page.get_element_attribute(element['Аватар'], atr_value='src')\n>           assert old_att != new_att\nE           AssertionError: assert 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg' != 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg'\n\ntests/test_editing_profile.py:383: AssertionError","steps":[{"name":"Нажать на кнопку профиль","time":{"start":1726777023642,"stop":1726777023698,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Запомнить ссылку на аватар пользователя","time":{"start":1726777023698,"stop":1726777025221,"duration":1523},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на бургер-меню","time":{"start":1726777025221,"stop":1726777025267,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать редактировать профиль","time":{"start":1726777025267,"stop":1726777025328,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавить изображение в Кнопку добавить аватар","time":{"start":1726777025328,"stop":1726777026866,"duration":1538},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку Хорошо","time":{"start":1726777026866,"stop":1726777026928,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Перейти в профиль","time":{"start":1726777026928,"stop":1726777028039,"duration":1111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Запомнить новую ссылку на аватар и сравнить со старой","time":{"start":1726777028039,"stop":1726777033175,"duration":5136},"status":"failed","statusMessage":"AssertionError: assert 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg' != 'https://staging-static.round.zone/images/b5142e12-f68d-41ae-8ba8-f1e0f3c043ce.jpg'\n","statusTrace":"  File \"/usr/workspace/tests/test_editing_profile.py\", line 383, in test_add_and_change_avatar\n    assert old_att != new_att\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":8,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1726777033184,"stop":1726777033386,"duration":202},"status":"passed","steps":[],"attachments":[{"uid":"b8c1b3b0f0a10a0","name":"page_source","source":"b8c1b3b0f0a10a0.html","type":"text/html","size":30561},{"uid":"6589326fd23c8346","name":"screenshot","source":"6589326fd23c8346.png","type":"image/png","size":43602},{"uid":"32f1cd684f80f3ff","name":"browser_logs","source":"32f1cd684f80f3ff.txt","type":"text/plain","size":6840}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":3,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"severity","value":"Critical"},{"name":"feature","value":"Редактирование профиля"},{"name":"tag","value":"regression"},{"name":"tag","value":"editing_profile"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_editing_profile"},{"name":"subSuite","value":"TestEditingProfile"},{"name":"host","value":"b8c274508a65"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_editing_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":1,"skipped":0,"passed":7,"unknown":0,"total":11},"items":[{"uid":"f104f8766267b1a7","status":"passed","time":{"start":1724098772165,"stop":1724098781682,"duration":9517}},{"uid":"754e3331d85fb289","status":"passed","time":{"start":1723828962089,"stop":1723828971586,"duration":9497}},{"uid":"6d02410b2591f959","status":"passed","time":{"start":1723751328467,"stop":1723751337773,"duration":9306}},{"uid":"f1e9332061220d70","status":"passed","time":{"start":1723741782437,"stop":1723741791774,"duration":9337}},{"uid":"3b2a452bc7801334","status":"broken","statusDetails":"KeyError: 'access_token'","time":{"start":1723664433432,"stop":1723664433432,"duration":0}},{"uid":"ddffcfc07ff6de53","status":"passed","time":{"start":1723578934670,"stop":1723578944162,"duration":9492}},{"uid":"a416bf1898d9847d","status":"failed","statusDetails":"AssertionError: assert 'https://staging-static.round.zone/images/e86ae49e-92ce-4fb7-8c06-2617b2530614.jpg' != 'https://staging-static.round.zone/images/e86ae49e-92ce-4fb7-8c06-2617b2530614.jpg'","time":{"start":1723496081900,"stop":1723496089161,"duration":7261}},{"uid":"7a7bc179db65101","status":"passed","time":{"start":1723149935869,"stop":1723149942969,"duration":7100}},{"uid":"a94827305e35ea1b","status":"passed","time":{"start":1723148642018,"stop":1723148649238,"duration":7220}},{"uid":"8c040be903045967","status":"failed","statusDetails":"AssertionError: assert 'https://staging-static.round.zone/images/a3b37b69-47e9-4be0-b216-cc6f70315dad.jpg' != 'https://staging-static.round.zone/images/a3b37b69-47e9-4be0-b216-cc6f70315dad.jpg'","time":{"start":1723146923916,"stop":1723146930152,"duration":6236}}]},"tags":["editing_profile","regression"]},"source":"1acc5a64e71c58d.json","parameterValues":[]}