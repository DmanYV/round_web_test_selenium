{"uid":"bd65e2f0bb48735","name":"Регистрация пользователя по номеру телефона","fullName":"tests.test_registration.TestRegistrationUser#test_registering_a_new_user_by_phone_number","historyId":"466fc968f032aaed759fe07653732bba","time":{"start":1720469322364,"stop":1720469338224,"duration":15860},"description":"При проверке так же проверяем, что никнейм может иметь в себе: цифры, точку (только в середине), дефис, нижнее подчеркивание","descriptionHtml":"<p>При проверке так же проверяем, что никнейм может иметь в себе: цифры, точку (только в середине), дефис, нижнее подчеркивание</p>\n","status":"failed","statusMessage":"AssertionError: Ожидался текст: 'Привет, -garciatimothy.1_\nДобро пожаловать в Round!', отображается текс: 'Привет, -garciatimothy.1\nДобро пожаловать в Round!'","statusTrace":"self = <test_registration.TestRegistrationUser object at 0x7fbbe6580770>\nelements = {'Страница авторизации': {'Кнопка вконтакте': ('xpath', '//button[@name=\"signUpWithVK\"]'), 'Кнопка войти': ('xpath', '...ct-2-option-88'), '1927 год': ('id', 'react-select-2-option-87'), '1928 год': ('id', 'react-select-2-option-86'), ...}}\n\n    @allure.title('Регистрация пользователя по номеру телефона')\n    @allure.description('При проверке так же проверяем, что никнейм может иметь в себе: '\n                        'цифры, точку (только в середине), дефис, нижнее подчеркивание')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_registering_a_new_user_by_phone_number(self, elements):\n        with allure.step('Открыть страницу авторизации'):\n            self.authorization_page.open()\n            element = elements['Страница авторизации']\n    \n        with allure.step('Нажать кнопку \"По смс (Для России)\"'):\n            self.authorization_page.do_click(element['Кнопка по смс'])\n    \n        with allure.step('Нажать кнопку Далее'):\n            element = elements['Страница регистрации']\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле никнейм ввести любое валидное значение'):\n            username = f'-{fake.user_name()}.{fake.pyint(min_value=1, max_value=2)}_'\n            self.join_page.field_send_keys(element['Поле никнейм'], text=f'{username}')\n    \n        with allure.step('Нажать кнопку Далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле Пароль ввести пароль'):\n            self.join_page.field_send_keys(element['Поле пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('В поле Повтори пароль ввести пароль еще раз'):\n            self.join_page.field_send_keys(element['Поле повтори пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Ввести номер телефона в поле номер телефона'):\n            phone_number = fakeru.random_number(digits=10, fix_len=True)\n            self.join_page.field_send_keys(element['Поле номер телефона'], text=phone_number)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Авторизоваться в MetaBase'):\n            metabase = self.metabase.authorization(username=self.MetaBaseUser.LOGIN,\n                                                   password=self.MetaBaseUser.PASSWORD)\n    \n        with allure.step('Найти последний код в MetaBase'):\n            sms_code = self.metabase.take_last_code(metabase)\n    \n        with allure.step('Ввести смс код'):\n            self.login_page.field_send_keys(element['Поле проверочный код'], text=sms_code)\n    \n        with allure.step('Проверить, что пользователю отображается окно приветствия'):\n>           self.assertion.text_in_element(element['Текст приветствия пользователя'],\n                                           expected_text=f'Привет, {username}\\nДобро пожаловать в Round!')\n\ntests/test_registration.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <base.base_assertion.Assertion object at 0x7fbbe6588bf0>\nelement_locator = ('xpath', '//div[contains(@class,\"registration-success_header_\")]')\nexpected_text = 'Привет, -garciatimothy.1_\\nДобро пожаловать в Round!'\n\n    def text_in_element(self, element_locator: tuple, expected_text: str):\n        \"\"\"\n        Проверка совпадения текста элемента\n    \n        :param element_locator:\n            локатор элемента\n        :param expected_text:\n            ожидаемый текст\n    \n        \"\"\"\n        actual_text = self.find_element(element_locator).text\n>       assert expected_text == actual_text, f\"Ожидался текст: '{expected_text}', отображается текс: '{actual_text}'\"\nE       AssertionError: Ожидался текст: 'Привет, -garciatimothy.1_\nE       Добро пожаловать в Round!', отображается текс: 'Привет, -garciatimothy.1\nE       Добро пожаловать в Round!'\n\nbase/base_assertion.py:23: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1720469240040,"stop":1720469240061,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1720469321935,"stop":1720469322364,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1720469322364,"stop":1720469322364,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"elements","time":{"start":1720469322364,"stop":1720469322364,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"При проверке так же проверяем, что никнейм может иметь в себе: цифры, точку (только в середине), дефис, нижнее подчеркивание","status":"failed","statusMessage":"AssertionError: Ожидался текст: 'Привет, -garciatimothy.1_\nДобро пожаловать в Round!', отображается текс: 'Привет, -garciatimothy.1\nДобро пожаловать в Round!'","statusTrace":"self = <test_registration.TestRegistrationUser object at 0x7fbbe6580770>\nelements = {'Страница авторизации': {'Кнопка вконтакте': ('xpath', '//button[@name=\"signUpWithVK\"]'), 'Кнопка войти': ('xpath', '...ct-2-option-88'), '1927 год': ('id', 'react-select-2-option-87'), '1928 год': ('id', 'react-select-2-option-86'), ...}}\n\n    @allure.title('Регистрация пользователя по номеру телефона')\n    @allure.description('При проверке так же проверяем, что никнейм может иметь в себе: '\n                        'цифры, точку (только в середине), дефис, нижнее подчеркивание')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_registering_a_new_user_by_phone_number(self, elements):\n        with allure.step('Открыть страницу авторизации'):\n            self.authorization_page.open()\n            element = elements['Страница авторизации']\n    \n        with allure.step('Нажать кнопку \"По смс (Для России)\"'):\n            self.authorization_page.do_click(element['Кнопка по смс'])\n    \n        with allure.step('Нажать кнопку Далее'):\n            element = elements['Страница регистрации']\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле никнейм ввести любое валидное значение'):\n            username = f'-{fake.user_name()}.{fake.pyint(min_value=1, max_value=2)}_'\n            self.join_page.field_send_keys(element['Поле никнейм'], text=f'{username}')\n    \n        with allure.step('Нажать кнопку Далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('В поле Пароль ввести пароль'):\n            self.join_page.field_send_keys(element['Поле пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('В поле Повтори пароль ввести пароль еще раз'):\n            self.join_page.field_send_keys(element['Поле повтори пароль'], text=self.User.PASSWORD)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Ввести номер телефона в поле номер телефона'):\n            phone_number = fakeru.random_number(digits=10, fix_len=True)\n            self.join_page.field_send_keys(element['Поле номер телефона'], text=phone_number)\n    \n        with allure.step('Нажать кнопку далее'):\n            self.join_page.do_click(element['Кнопка далее'])\n    \n        with allure.step('Авторизоваться в MetaBase'):\n            metabase = self.metabase.authorization(username=self.MetaBaseUser.LOGIN,\n                                                   password=self.MetaBaseUser.PASSWORD)\n    \n        with allure.step('Найти последний код в MetaBase'):\n            sms_code = self.metabase.take_last_code(metabase)\n    \n        with allure.step('Ввести смс код'):\n            self.login_page.field_send_keys(element['Поле проверочный код'], text=sms_code)\n    \n        with allure.step('Проверить, что пользователю отображается окно приветствия'):\n>           self.assertion.text_in_element(element['Текст приветствия пользователя'],\n                                           expected_text=f'Привет, {username}\\nДобро пожаловать в Round!')\n\ntests/test_registration.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <base.base_assertion.Assertion object at 0x7fbbe6588bf0>\nelement_locator = ('xpath', '//div[contains(@class,\"registration-success_header_\")]')\nexpected_text = 'Привет, -garciatimothy.1_\\nДобро пожаловать в Round!'\n\n    def text_in_element(self, element_locator: tuple, expected_text: str):\n        \"\"\"\n        Проверка совпадения текста элемента\n    \n        :param element_locator:\n            локатор элемента\n        :param expected_text:\n            ожидаемый текст\n    \n        \"\"\"\n        actual_text = self.find_element(element_locator).text\n>       assert expected_text == actual_text, f\"Ожидался текст: '{expected_text}', отображается текс: '{actual_text}'\"\nE       AssertionError: Ожидался текст: 'Привет, -garciatimothy.1_\nE       Добро пожаловать в Round!', отображается текс: 'Привет, -garciatimothy.1\nE       Добро пожаловать в Round!'\n\nbase/base_assertion.py:23: AssertionError","steps":[{"name":"Открыть страницу авторизации","time":{"start":1720469322364,"stop":1720469325050,"duration":2686},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку \"По смс (Для России)\"","time":{"start":1720469325050,"stop":1720469326610,"duration":1560},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку Далее","time":{"start":1720469326610,"stop":1720469328158,"duration":1548},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле никнейм ввести любое валидное значение","time":{"start":1720469328158,"stop":1720469329739,"duration":1581},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку Далее","time":{"start":1720469329739,"stop":1720469329776,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Пароль ввести пароль","time":{"start":1720469329776,"stop":1720469331329,"duration":1553},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Повтори пароль ввести пароль еще раз","time":{"start":1720469331329,"stop":1720469331374,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку далее","time":{"start":1720469331374,"stop":1720469331414,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести номер телефона в поле номер телефона","time":{"start":1720469331414,"stop":1720469332975,"duration":1561},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать кнопку далее","time":{"start":1720469332975,"stop":1720469333012,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизоваться в MetaBase","time":{"start":1720469333012,"stop":1720469334257,"duration":1245},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Найти последний код в MetaBase","time":{"start":1720469334257,"stop":1720469336646,"duration":2389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести смс код","time":{"start":1720469336646,"stop":1720469336696,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить, что пользователю отображается окно приветствия","time":{"start":1720469336696,"stop":1720469338224,"duration":1528},"status":"failed","statusMessage":"AssertionError: Ожидался текст: 'Привет, -garciatimothy.1_\nДобро пожаловать в Round!', отображается текс: 'Привет, -garciatimothy.1\nДобро пожаловать в Round!'\n","statusTrace":"  File \"/usr/workspace/tests/test_registration.py\", line 66, in test_registering_a_new_user_by_phone_number\n    self.assertion.text_in_element(element['Текст приветствия пользователя'],\n  File \"/usr/workspace/base/base_assertion.py\", line 23, in text_in_element\n    assert expected_text == actual_text, f\"Ожидался текст: '{expected_text}', отображается текс: '{actual_text}'\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":14,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1720469338233,"stop":1720469338417,"duration":184},"status":"passed","steps":[],"attachments":[{"uid":"1e4be60772b17c92","name":"page_source","source":"1e4be60772b17c92.html","type":"text/html","size":31263},{"uid":"617f62d675164ea6","name":"screenshot","source":"617f62d675164ea6.png","type":"image/png","size":29378},{"uid":"b466b64c71f7dac2","name":"browser_logs","source":"b466b64c71f7dac2.txt","type":"text/plain","size":1649}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":3,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"severity","value":"Critical"},{"name":"feature","value":"Регистрация пользователя"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_registration"},{"name":"subSuite","value":"TestRegistrationUser"},{"name":"host","value":"61df601f39c4"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_registration"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":4,"skipped":0,"passed":5,"unknown":0,"total":11},"items":[{"uid":"770774a2a0d44ba9","status":"failed","statusDetails":"AssertionError: Ожидался текст: 'Привет, -williamskatherine.2_\nДобро пожаловать в Round!', отображается текс: 'Привет, -williamskatheri\nДобро пожаловать в Round!'","time":{"start":1720469022033,"stop":1720469037089,"duration":15056}},{"uid":"7b848047f423c322","status":"passed","time":{"start":1720468808559,"stop":1720468824424,"duration":15865}},{"uid":"c4bd45dc509b2ef6","status":"passed","time":{"start":1720242406734,"stop":1720242421022,"duration":14288}},{"uid":"a64871cbacc248d0","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: Не найден элемент с локатором ('xpath', '//input[@name=\"password\"]')","time":{"start":1720241739849,"stop":1720241777040,"duration":37191}},{"uid":"3145a6ccf6a1a4f3","status":"passed","time":{"start":1720208082465,"stop":1720208097955,"duration":15490}},{"uid":"a70a6552fd2641b9","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: Не найден элемент с локатором ('xpath', '//div[@class=\"registration-success_header__D5-xJ\"]')","time":{"start":1720207057469,"stop":1720207101087,"duration":43618}},{"uid":"919564db61309d9e","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: Не найден элемент с локатором ('xpath', '//div[@class=\"registration-success_header__D5-xJ\"]')","time":{"start":1720205004012,"stop":1720205048012,"duration":44000}},{"uid":"1342c7ed124427b5","status":"passed","time":{"start":1720117873847,"stop":1720117891458,"duration":17611}},{"uid":"fec3a6bec4f247e6","status":"passed","time":{"start":1720112799857,"stop":1720112815955,"duration":16098}},{"uid":"c98be000f1e02415","status":"broken","statusDetails":"selenium.common.exceptions.WebDriverException: Message: unknown error: Chrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/chromium-browser is no longer running, so ChromeDriver is assuming that Chrome has crashed.)","time":{"start":1720112680001,"stop":1720112680001,"duration":0}}]},"tags":["regression"]},"source":"bd65e2f0bb48735.json","parameterValues":[]}