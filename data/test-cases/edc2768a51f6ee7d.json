{"uid":"edc2768a51f6ee7d","name":"Заполнить данные Анкеты (Россия - Татарстан) и Сохранить","fullName":"tests.test_editing_profile.TestEditingProfile#test_fill_and_save_questionnaire","historyId":"5bc0af133ca705fc12d87b52e6368fbf","time":{"start":1739386818432,"stop":1739386821910,"duration":3478},"description":"Проверка происходит на новом пользователе","descriptionHtml":"<p>Проверка происходит на новом пользователе</p>\n","status":"failed","statusMessage":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст","statusTrace":"self = <test_editing_profile.TestEditingProfile object at 0x7f96c86ab620>\nelements = {'Банк ачивок': {'Блок ачивок': ('xpath', '//div[contains(@class,\"user-achievement-by-interests_container\")]'), 'Модал...'carrot-messenger-frame'), 'Чат кэррот': ('xpath', '//div[contains(@class,\"carrot-messenger-frame-container\")]')}, ...}\nregistration_user = None\n\n    @allure.title('Заполнить данные Анкеты (Россия - Татарстан) и Сохранить')\n    @allure.description('Проверка происходит на новом пользователе')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_fill_and_save_questionnaire(self, elements, registration_user):\n        element_study = elements['Страница анкета']\n        element_profile = elements['Профиль пользователя']\n        element_burger_menu = elements['Поп ап бургер-меню профиля']\n        element_edit_profile = elements['Страница редактировать профиль']\n    \n        with allure.step('Нажать на кнопку профиль'):\n            self.app.profile_button_click()\n    \n        with allure.step('В поле Фамилия ввести Фамилию'):\n            self.study_page.field_send_keys(element_study['Фамилия'], text=fakeru.last_name())\n    \n        with allure.step('В поле Имя ввести Имя'):\n            self.study_page.field_send_keys(element_study['Имя'], text=fakeru.first_name())\n    \n        with allure.step('В поле Отчество ввести Отчество'):\n            self.study_page.field_send_keys(element_study['Отчество'], text=fakeru.first_name_male())\n    \n        with allure.step('В поле Страна ввести Россия'):\n            self.study_page.field_send_keys(element_study['Страна'], text='Россия')\n    \n        with allure.step('В поле Регион ввести Республика Татарстан'):\n            self.study_page.field_send_keys(element_study['Регион'], text='Республика Татарстан')\n    \n        with allure.step('В поле населенный пункт ввести Казань'):\n            self.study_page.field_send_keys(element_study['Населенный пункт'], text='Казань')\n    \n        with allure.step('В поле учебное заведение ввести Школа №68'):\n            self.study_page.field_send_keys(element_study['Учебное заведение'],\n                                            text='МБОУ \"татарско-русская средняя общеобразовательная школа №68 '\n                                                 'с углубленным изучением отдельных предметов\" приволжского района '\n                                                 'г.казани')\n    \n        with allure.step('Нажать на кнопку Сохранить'):\n            self.study_page.do_click(element_study['Кнопка сохранить'])\n    \n        with allure.step('Нажать На Кнопку бургер-меню'):\n            self.profile_page.do_click(element_profile['Кнопка бургер-меню'])\n    \n        with allure.step('Нажать на Редактировать профиль'):\n            self.profile_page.do_click(element_burger_menu['Редактировать профиль'])\n    \n        with allure.step('Нажать на Анкета'):\n            self.profile_page.do_click(element_edit_profile['Анкета'])\n    \n        with allure.step('Проверить, что поле Фамилия не пустое'):\n>           self.assertion.text_is_not_empty(element_study['Фамилия'])\n\ntests/test_editing_profile.py:436: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <base.base_assertion.Assertion object at 0x7f96c91e8380>\nby_locator = ('xpath', '//input[@data-testing=\"edit_last_name\"]'), timeout = 10\n\n    def text_is_not_empty(self, by_locator: tuple[str, str], timeout: int = 10):\n        \"\"\"\n        Проверка, что текстовое поле не пустое\n    \n        :param by_locator:\n            локатор текстового поля\n        :param timeout:\n            время ожидания в секундах\n        \"\"\"\n        element = WebDriverWait(self.driver, timeout=timeout).until(\n            EC.presence_of_element_located(locator=by_locator)\n        )\n    \n>       assert element.get_attribute('value') != '', f'Элемент {by_locator} не содержит текст'\nE       AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст\n\nbase/base_assertion.py:209: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1739385986311,"stop":1739385986312,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Установка соединения с БД","time":{"start":1739386567363,"stop":1739386568151,"duration":788},"status":"passed","steps":[{"name":"Установка соединения с БД","time":{"start":1739386567363,"stop":1739386568151,"duration":788},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"request","value":"<SubRequest 'db_connection' for <Function test_deletion_of_account[У меня есть другой профиль в ROUND!]>>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false},{"name":"driver","time":{"start":1739386805093,"stop":1739386805510,"duration":417},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Инициализация локаторов","time":{"start":1739386805511,"stop":1739386805511,"duration":0},"status":"passed","steps":[{"name":"Инициализация локаторов","time":{"start":1739386805511,"stop":1739386805511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"request","value":"<SubRequest 'elements' for <Function test_fill_and_save_questionnaire>>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1739386805511,"stop":1739386805511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Регистрация пользователя","time":{"start":1739386805511,"stop":1739386818432,"duration":12921},"status":"passed","steps":[{"name":"Регистрация пользователя","time":{"start":1739386805511,"stop":1739386818432,"duration":12921},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"4548a84a3725950e3badc9117783ff43\")>"},{"name":"db_connection","value":"<psycopg.Connection [INTRANS] (host=rc1a-8gbxfgy3ifeqz75r.mdb.yandexcloud.net port=6432 user=dyanyshev database=staging_round_confirmation) at 0x7f96c9206570>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Проверка происходит на новом пользователе","status":"failed","statusMessage":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст","statusTrace":"self = <test_editing_profile.TestEditingProfile object at 0x7f96c86ab620>\nelements = {'Банк ачивок': {'Блок ачивок': ('xpath', '//div[contains(@class,\"user-achievement-by-interests_container\")]'), 'Модал...'carrot-messenger-frame'), 'Чат кэррот': ('xpath', '//div[contains(@class,\"carrot-messenger-frame-container\")]')}, ...}\nregistration_user = None\n\n    @allure.title('Заполнить данные Анкеты (Россия - Татарстан) и Сохранить')\n    @allure.description('Проверка происходит на новом пользователе')\n    @allure.severity('Critical')\n    @pytest.mark.regression\n    def test_fill_and_save_questionnaire(self, elements, registration_user):\n        element_study = elements['Страница анкета']\n        element_profile = elements['Профиль пользователя']\n        element_burger_menu = elements['Поп ап бургер-меню профиля']\n        element_edit_profile = elements['Страница редактировать профиль']\n    \n        with allure.step('Нажать на кнопку профиль'):\n            self.app.profile_button_click()\n    \n        with allure.step('В поле Фамилия ввести Фамилию'):\n            self.study_page.field_send_keys(element_study['Фамилия'], text=fakeru.last_name())\n    \n        with allure.step('В поле Имя ввести Имя'):\n            self.study_page.field_send_keys(element_study['Имя'], text=fakeru.first_name())\n    \n        with allure.step('В поле Отчество ввести Отчество'):\n            self.study_page.field_send_keys(element_study['Отчество'], text=fakeru.first_name_male())\n    \n        with allure.step('В поле Страна ввести Россия'):\n            self.study_page.field_send_keys(element_study['Страна'], text='Россия')\n    \n        with allure.step('В поле Регион ввести Республика Татарстан'):\n            self.study_page.field_send_keys(element_study['Регион'], text='Республика Татарстан')\n    \n        with allure.step('В поле населенный пункт ввести Казань'):\n            self.study_page.field_send_keys(element_study['Населенный пункт'], text='Казань')\n    \n        with allure.step('В поле учебное заведение ввести Школа №68'):\n            self.study_page.field_send_keys(element_study['Учебное заведение'],\n                                            text='МБОУ \"татарско-русская средняя общеобразовательная школа №68 '\n                                                 'с углубленным изучением отдельных предметов\" приволжского района '\n                                                 'г.казани')\n    \n        with allure.step('Нажать на кнопку Сохранить'):\n            self.study_page.do_click(element_study['Кнопка сохранить'])\n    \n        with allure.step('Нажать На Кнопку бургер-меню'):\n            self.profile_page.do_click(element_profile['Кнопка бургер-меню'])\n    \n        with allure.step('Нажать на Редактировать профиль'):\n            self.profile_page.do_click(element_burger_menu['Редактировать профиль'])\n    \n        with allure.step('Нажать на Анкета'):\n            self.profile_page.do_click(element_edit_profile['Анкета'])\n    \n        with allure.step('Проверить, что поле Фамилия не пустое'):\n>           self.assertion.text_is_not_empty(element_study['Фамилия'])\n\ntests/test_editing_profile.py:436: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <base.base_assertion.Assertion object at 0x7f96c91e8380>\nby_locator = ('xpath', '//input[@data-testing=\"edit_last_name\"]'), timeout = 10\n\n    def text_is_not_empty(self, by_locator: tuple[str, str], timeout: int = 10):\n        \"\"\"\n        Проверка, что текстовое поле не пустое\n    \n        :param by_locator:\n            локатор текстового поля\n        :param timeout:\n            время ожидания в секундах\n        \"\"\"\n        element = WebDriverWait(self.driver, timeout=timeout).until(\n            EC.presence_of_element_located(locator=by_locator)\n        )\n    \n>       assert element.get_attribute('value') != '', f'Элемент {by_locator} не содержит текст'\nE       AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст\n\nbase/base_assertion.py:209: AssertionError","steps":[{"name":"Нажать на кнопку профиль","time":{"start":1739386818432,"stop":1739386818481,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Фамилия ввести Фамилию","time":{"start":1739386818481,"stop":1739386819055,"duration":574},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Имя ввести Имя","time":{"start":1739386819055,"stop":1739386819122,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Отчество ввести Отчество","time":{"start":1739386819122,"stop":1739386819184,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Страна ввести Россия","time":{"start":1739386819184,"stop":1739386819247,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле Регион ввести Республика Татарстан","time":{"start":1739386819247,"stop":1739386819342,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле населенный пункт ввести Казань","time":{"start":1739386819342,"stop":1739386819407,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В поле учебное заведение ввести Школа №68","time":{"start":1739386819407,"stop":1739386819670,"duration":263},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на кнопку Сохранить","time":{"start":1739386819670,"stop":1739386819723,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать На Кнопку бургер-меню","time":{"start":1739386819723,"stop":1739386820780,"duration":1057},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на Редактировать профиль","time":{"start":1739386820780,"stop":1739386820828,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на Анкета","time":{"start":1739386820828,"stop":1739386821384,"duration":556},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить, что поле Фамилия не пустое","time":{"start":1739386821384,"stop":1739386821910,"duration":526},"status":"failed","statusMessage":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст\n","statusTrace":"  File \"/usr/workspace/tests/test_editing_profile.py\", line 436, in test_fill_and_save_questionnaire\n    self.assertion.text_is_not_empty(element_study['Фамилия'])\n  File \"/usr/workspace/base/base_assertion.py\", line 209, in text_is_not_empty\n    assert element.get_attribute('value') != '', f'Элемент {by_locator} не содержит текст'\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":13,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1739386821927,"stop":1739386822150,"duration":223},"status":"passed","steps":[],"attachments":[{"uid":"a8c473600f1fc0b7","name":"page_source","source":"a8c473600f1fc0b7.html","type":"text/html","size":27260},{"uid":"c36471654839b61b","name":"screenshot","source":"c36471654839b61b.png","type":"image/png","size":41783},{"uid":"659f93a1083e72c1","name":"browser_logs","source":"659f93a1083e72c1.txt","type":"text/plain","size":3016}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":3,"stepsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Установка соединения с БД::fin","time":{"start":1739386822150,"stop":1739386822150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"Critical"},{"name":"feature","value":"Редактирование профиля"},{"name":"tag","value":"regression"},{"name":"tag","value":"editing_profile"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_editing_profile"},{"name":"subSuite","value":"TestEditingProfile"},{"name":"host","value":"9b936bd7933a"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_editing_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":1,"skipped":0,"passed":0,"unknown":0,"total":6},"items":[{"uid":"7353071d928079e5","status":"broken","statusDetails":"selenium.common.exceptions.StaleElementReferenceException: Message: stale element reference: element is not attached to the page document\n  (Session info: headless chrome=112.0.5615.165); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception","time":{"start":1739379522235,"stop":1739379522235,"duration":0}},{"uid":"19956f279814ba94","status":"failed","statusDetails":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст","time":{"start":1739310369380,"stop":1739310375903,"duration":6523}},{"uid":"b912afea0f2f5778","status":"failed","statusDetails":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст","time":{"start":1738951896754,"stop":1738951900707,"duration":3953}},{"uid":"7d05fcff5d217c7b","status":"failed","statusDetails":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст","time":{"start":1738875086160,"stop":1738875091625,"duration":5465}},{"uid":"c7b96d00ef117b1","status":"failed","statusDetails":"AssertionError: Элемент ('xpath', '//input[@data-testing=\"edit_last_name\"]') не содержит текст","time":{"start":1738871983165,"stop":1738871987623,"duration":4458}}]},"tags":["editing_profile","regression"]},"source":"edc2768a51f6ee7d.json","parameterValues":[]}